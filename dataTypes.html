<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<title></title>

<script src="libs/jquery-1.11.0/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.1/css/flatly.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.1/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.1/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.1/shim/respond.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet"
      href="libs/highlight/textmate.css"
      type="text/css" />
<script src="libs/highlight/highlight.js"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img { 
  max-width:100%; 
  height: auto; 
}
</style>
<div class="container-fluid main-container">

<br>

<nav class="navbar navbar-default">
  <div class="container-fluid">
  
    <div class="navbar-header">
      <a class="navbar-brand" href="index.html">
        Biometrics (Biol 340)
      </a>
    </div>

    <div>
      <ul class="nav navbar-nav">
        <li><a href="weekly_labs.html">Weekly Labs</a></li>
        
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#">Intro to R
          <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="intro_R.html">Intro to R</a></li>
            <li><a href="data_types.html">Data Types</a></li>
            <li><a href="input_R.html">Inputting Data</a></li>
            <li><a href="packages.html">Packages</a></li>
            <li><a href="R_websites.html">Helpful Websites</a></li>
          </ul>
        </li>

        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#">Basic Skills
          <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="des_stats.html">Descriptive Stats</a></li>
            <li><a href="plyr.html">Plyr Package</a></li>
            <li><a href="basic_prob.html">Basic Proability</a></li>
            <li><a href="prob_dist.html">Probability Distributions</a></li>
          </ul>
        </li>
        
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#">Statistical Tests
          <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="chi_good_test.html">Chi-squared Goodness-of-fit Test</a></li>
            <li><a href="chi_conti_test.html">Chi-squared Contingency Test</a></li>
            <li><a href="t_test.html">t-Test</a></li>
            <li><a href="anova.html">ANOVA</a></li>
            <li><a href="reg_corr_test.html">Regression and Correlation</a></li>
            <li><a href="logistic_test.html">Logistic Regression</a></li>
          </ul>
        </li>
          
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#">Graphing
          <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="basic_graphing.html">Basic Graphing</a></li>
            <li><a href="adv_graphing.html">Advanced Graphing</a></li>
            <li><a href="ggplots_lattice.html">Ggplot2 and Lattice</a></li>
          </ul>
        </li>
      </ul>
    </div>
 
  </div>
</nav>



<h1>
Data in R
</h1>

<h3>
Data Structure
</h3> 

<p>An important part of science is entering and managing data. Because we do most of our statistics with computers, we have to enter and store data on computers. Although this sounds simple, many students have no idea how to properly store data.</p>
<p>Generally a spreadsheet program is used to enter and store data. The important thing to remember is start in the upper left-hand corner of the spreadsheet and use the first row to label each column. Because some programs do not like spaces, I always use an underscore “_&quot; or “.” instead of a space. For example, I might label a column that has the initial weight in grams as “Initial_weight_g”. It is important to provide a column for each piece of important information. For example, if you manipulated temperature and light in your experiment you should have a column for temperature and a column for light–not a column for treatment, though you might include a third column label treatment.</p>
<p>Once you have labeled the columns you can begin to enter data. Make sure to always enter something for each column, unless there is a reason to leave a cell blank. I will provide an example spreadsheet to illustrate how to properly enter data into a spreadsheet.</p>
<h3>
Data in R
</h3>

<p>Because we need to get data into R for analyses, it is important to know the objects that can store data in R: vectors, arrays, matrices, lists, factors, and data.frames. We have already seen examples of vectors. For example, <samp>1:10</samp> produces a vector with 10 integers beginning with 1 and ending with 10. Let’s go over each of these objects, but keep in mind that vectors, factors, and data.frames are used most often for storing data.</p>
<h4>
Vector
</h4>
<p>We have already seen vectors in past labs, but here is a quick review. You can create a vector with the following functions. Remember that all values of the vector must have the same type (e.g., numbers).</p>
<pre class="r"><code>c(1,2,3.4,6,8)</code></pre>
<pre><code>## [1] 1.0 2.0 3.4 6.0 8.0</code></pre>
<pre class="r"><code>2:6</code></pre>
<pre><code>## [1] 2 3 4 5 6</code></pre>
<pre class="r"><code>seq(from=4, to=5, by=0.1)</code></pre>
<pre><code>##  [1] 4.0 4.1 4.2 4.3 4.4 4.5 4.6 4.7 4.8 4.9 5.0</code></pre>
<pre class="r"><code>rep(c(4,5), 3)</code></pre>
<pre><code>## [1] 4 5 4 5 4 5</code></pre>
<pre class="r"><code>rep(c(4,5), each=3)</code></pre>
<pre><code>## [1] 4 4 4 5 5 5</code></pre>
<h4>
Matrix
</h4>
<p>The function <samp>matrix()</samp> is the primary way to create a matrix. Like a vector, all members of a matrix must be the same type.</p>
<pre class="r"><code>matrix(1:10, nrow=2)</code></pre>
<pre><code>##      [,1] [,2] [,3] [,4] [,5]
## [1,]    1    3    5    7    9
## [2,]    2    4    6    8   10</code></pre>
<pre class="r"><code>matrix(1:10, nrow=2, byrow=T)</code></pre>
<pre><code>##      [,1] [,2] [,3] [,4] [,5]
## [1,]    1    2    3    4    5
## [2,]    6    7    8    9   10</code></pre>
<h4>
Array
</h4>
<p>An array is similar to a matrix, but you can specify some addtional information, like the dimensions. The function <samp>array()</samp> is the primary way to create an array. An array is different from a matrix because a matrix allows specific mathematical operations that you cannot do on an array. Typically programmers use an array to store information as a program runs. For example, you create a loop to do a calculation many times, and the result of each calculation is stored in an array.</p>
<pre class="r"><code>array(3:12, dim = c(2,5))</code></pre>
<pre><code>##      [,1] [,2] [,3] [,4] [,5]
## [1,]    3    5    7    9   11
## [2,]    4    6    8   10   12</code></pre>
<pre class="r"><code>#example of looping and using an array.
my.array &lt;- array(NA, dim = c(2, 10))
my.array</code></pre>
<pre><code>##      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
## [1,]   NA   NA   NA   NA   NA   NA   NA   NA   NA    NA
## [2,]   NA   NA   NA   NA   NA   NA   NA   NA   NA    NA</code></pre>
<pre class="r"><code>for(i in 1:2){
  for(j in 1:10){
    my.array[i, j] &lt;- i*j
  }
}
my.array</code></pre>
<pre><code>##      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
## [1,]    1    2    3    4    5    6    7    8    9    10
## [2,]    2    4    6    8   10   12   14   16   18    20</code></pre>
<h4>
List
</h4> 
<p>A list allows you to group different types of data into a single list. For example, a list can have characters, numbers, dates, vectors, etc. The function <samp>list()</samp> is the primary way to create a list. You can also name part of a list.</p>
<pre class="r"><code>list(&quot;Ben&quot;, 1:5, letters[1:4])</code></pre>
<pre><code>## [[1]]
## [1] &quot;Ben&quot;
## 
## [[2]]
## [1] 1 2 3 4 5
## 
## [[3]]
## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot;</code></pre>
<pre class="r"><code>#Now with names
list(Name = &quot;Ben&quot;, Numbers = 1:5, Letters = letters[1:4]) </code></pre>
<pre><code>## $Name
## [1] &quot;Ben&quot;
## 
## $Numbers
## [1] 1 2 3 4 5
## 
## $Letters
## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot;</code></pre>
<p><samp>letters</samp> is a built-in vector of the lower-case alphabet, and <samp>LETTERS</samp> is a vector of the upper-case alphabet.</p>
<h4>
Factor
</h4> 
<p>A factor is a vector of data in which there are specific groups in the vector. It is typically used to tell R that the variable is categorical. For example, an experiment where we have two treatments, light and dark, and these treatments represent a categorical variable. Making sure R, or many other statistical programs, knows which variables are categorical is very important, so the computer uses the correct test. The function <samp>factor()</samp> is the primary way to create a factor.</p>
<pre class="r"><code>(treatments &lt;- rep(c(&quot;light&quot;, &quot;dark&quot;), each = 4))</code></pre>
<pre><code>## [1] &quot;light&quot; &quot;light&quot; &quot;light&quot; &quot;light&quot; &quot;dark&quot;  &quot;dark&quot;  &quot;dark&quot;  &quot;dark&quot;</code></pre>
<pre class="r"><code>vals &lt;- rep(LETTERS[1:2],each=5); vals</code></pre>
<pre><code>##  [1] &quot;A&quot; &quot;A&quot; &quot;A&quot; &quot;A&quot; &quot;A&quot; &quot;B&quot; &quot;B&quot; &quot;B&quot; &quot;B&quot; &quot;B&quot;</code></pre>
<pre class="r"><code>ben.factor &lt;- factor(vals); ben.factor</code></pre>
<pre><code>##  [1] A A A A A B B B B B
## Levels: A B</code></pre>
<p>By default R doesn’t print the object when you assign it a name. To print the object, just type the name of the object or put paratheses around code that assigns a name. Both are illustrated above.</p>
<p>What do you notice that is different between the variable <samp>vals</samp> and the variable <samp>ben.factor</samp>? There are lots of advantages to using factors. For example, it is easy to perform calculations on groups specified by the factor. For example, say the <samp>ben.factor</samp> specifies two treatments in an experiment, and our data are as follows.</p>
<pre class="r"><code>data &lt;- c(1,2,3,2,3,5,4,6,7,6) 
length(data)    #Just checking sample size of data</code></pre>
<pre><code>## [1] 10</code></pre>
<p>It is now very easy to calculate, say the mean and standard deviation for treatment “A” and treatment “B”. To do this we just use the <samp>tapply()</samp> function. In the parentheses, first give the vector with the numbers (in this case <samp>data</samp>), next give the factor (in this case <samp>ben.factor</samp>), and last give the function you want to apply (in this case <samp>mean</samp>). Try this</p>
<pre class="r"><code>tapply(data, ben.factor, mean)</code></pre>
<pre><code>##   A   B 
## 2.2 5.6</code></pre>
<pre class="r"><code>tapply(data, ben.factor, sd)</code></pre>
<pre><code>##        A        B 
## 0.836660 1.140175</code></pre>
<h4>
Data.frame
</h4> 
<p>Data.frames are really just a collection of vectors and factors, and represent exactly what you see in an Excel spreadsheet. In other words, they represent a table of data with column labels at the top. Data.frames are easy to make with the function <samp>data.frames()</samp>, where the different vectors or factors, separated with commas, go in the parentheses. For example, let’s make a data.frame with our variables we have already created.</p>
<pre class="r"><code>ben.frame &lt;- data.frame(Treatment = ben.factor, Data = data)
ben.frame</code></pre>
<pre><code>##    Treatment Data
## 1          A    1
## 2          A    2
## 3          A    3
## 4          A    2
## 5          A    3
## 6          B    5
## 7          B    4
## 8          B    6
## 9          B    7
## 10         B    6</code></pre>
<p>We can check to see what type of variable each column represents with the function <samp>str()</samp>, which stands for structure.</p>
<pre class="r"><code>str(ben.frame)</code></pre>
<pre><code>## &#39;data.frame&#39;:    10 obs. of  2 variables:
##  $ Treatment: Factor w/ 2 levels &quot;A&quot;,&quot;B&quot;: 1 1 1 1 1 2 2 2 2 2
##  $ Data     : num  1 2 3 2 3 5 4 6 7 6</code></pre>
<p>Now create your own data.frame with two factors, and one numeric vector.</p>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
